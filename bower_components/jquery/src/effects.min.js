define(["./core","./var/document","./var/rcssNum","./css/var/cssExpand","./var/rnotwhite","./css/var/isHidden","./css/adjustCSS","./css/defaultDisplay","./data/var/dataPriv","./core/init","./effects/Tween","./queue","./css","./deferred","./traversing"],function(t,e,n,i,r,s,o,a,l){function p(){return window.setTimeout(function(){u=void 0}),u=t.now()}function h(t,e){var n,r=0,s={height:t};for(e=e?1:0;4>r;r+=2-e)n=i[r],s["margin"+n]=s["padding"+n]=t;return e&&(s.opacity=s.width=t),s}function m(t,e,n){for(var i,r=(y.tweeners[e]||[]).concat(y.tweeners["*"]),s=0,o=r.length;o>s;s++)if(i=r[s].call(n,e,t))return i}function g(e,n,i){var r,o,u,c,d,p,h,g,v=this,y={},w=e.style,$=e.nodeType&&s(e),b=l.get(e,"fxshow");i.queue||(d=t._queueHooks(e,"fx"),null==d.unqueued&&(d.unqueued=0,p=d.empty.fire,d.empty.fire=function(){d.unqueued||p()}),d.unqueued++,v.always(function(){v.always(function(){d.unqueued--,t.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(i.overflow=[w.overflow,w.overflowX,w.overflowY],h=t.css(e,"display"),g="none"===h?l.get(e,"olddisplay")||a(e.nodeName):h,"inline"===g&&"none"===t.css(e,"float")&&(w.display="inline-block")),i.overflow&&(w.overflow="hidden",v.always(function(){w.overflow=i.overflow[0],w.overflowX=i.overflow[1],w.overflowY=i.overflow[2]}));for(r in n)if(o=n[r],f.exec(o)){if(delete n[r],u=u||"toggle"===o,o===($?"hide":"show")){if("show"!==o||!b||void 0===b[r])continue;$=!0}y[r]=b&&b[r]||t.style(e,r)}else h=void 0;if(t.isEmptyObject(y))"inline"===("none"===h?a(e.nodeName):h)&&(w.display=h);else{b?"hidden"in b&&($=b.hidden):b=l.access(e,"fxshow",{}),u&&(b.hidden=!$),$?t(e).show():v.done(function(){t(e).hide()}),v.done(function(){var n;l.remove(e,"fxshow");for(n in y)t.style(e,n,y[n])});for(r in y)c=m($?b[r]:0,r,v),r in b||(b[r]=c.start,$&&(c.end=c.start,c.start="width"===r||"height"===r?1:0))}}function v(e,n){var i,r,s,o,a;for(i in e)if(r=t.camelCase(i),s=n[r],o=e[i],t.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==r&&(e[r]=o,delete e[i]),a=t.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(i in o)i in e||(e[i]=o[i],n[i]=s)}else n[r]=s}function y(e,n,i){var r,s,o=0,a=y.prefilters.length,l=t.Deferred().always(function(){delete c.elem}),c=function(){if(s)return!1;for(var t=u||p(),n=Math.max(0,f.startTime+f.duration-t),i=n/f.duration||0,r=1-i,o=0,a=f.tweens.length;a>o;o++)f.tweens[o].run(r);return l.notifyWith(e,[f,r,n]),1>r&&a?n:(l.resolveWith(e,[f]),!1)},f=l.promise({elem:e,props:t.extend({},n),opts:t.extend(!0,{specialEasing:{},easing:t.easing._default},i),originalProperties:n,originalOptions:i,startTime:u||p(),duration:i.duration,tweens:[],createTween:function(n,i){var r=t.Tween(e,f.opts,n,i,f.opts.specialEasing[n]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,i=t?f.tweens.length:0;if(s)return this;for(s=!0;i>n;n++)f.tweens[n].run(1);return t?(l.notifyWith(e,[f,1,0]),l.resolveWith(e,[f,t])):l.rejectWith(e,[f,t]),this}}),d=f.props;for(v(d,f.opts.specialEasing);a>o;o++)if(r=y.prefilters[o].call(f,e,d,f.opts))return t.isFunction(r.stop)&&(t._queueHooks(f.elem,f.opts.queue).stop=t.proxy(r.stop,r)),r;return t.map(d,m,f),t.isFunction(f.opts.start)&&f.opts.start.call(e,f),t.fx.timer(t.extend(c,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}var u,c,f=/^(?:toggle|show|hide)$/,d=/queueHooks$/;return t.Animation=t.extend(y,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return o(i.elem,t,n.exec(e),i),i}]},tweener:function(e,n){t.isFunction(e)?(n=e,e=["*"]):e=e.match(r);for(var i,s=0,o=e.length;o>s;s++)i=e[s],y.tweeners[i]=y.tweeners[i]||[],y.tweeners[i].unshift(n)},prefilters:[g],prefilter:function(t,e){e?y.prefilters.unshift(t):y.prefilters.push(t)}}),t.speed=function(e,n,i){var r=e&&"object"==typeof e?t.extend({},e):{complete:i||!i&&n||t.isFunction(e)&&e,duration:e,easing:i&&n||n&&!t.isFunction(n)&&n};return r.duration=t.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in t.fx.speeds?t.fx.speeds[r.duration]:t.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){t.isFunction(r.old)&&r.old.call(this),r.queue&&t.dequeue(this,r.queue)},r},t.fn.extend({fadeTo:function(t,e,n,i){return this.filter(s).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,n,i,r){var s=t.isEmptyObject(e),o=t.speed(n,i,r),a=function(){var n=y(this,t.extend({},e),o);(s||l.get(this,"finish"))&&n.stop(!0)};return a.finish=a,s||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof e&&(i=n,n=e,e=void 0),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var n=!0,s=null!=e&&e+"queueHooks",o=t.timers,a=l.get(this);if(s)a[s]&&a[s].stop&&r(a[s]);else for(s in a)a[s]&&a[s].stop&&d.test(s)&&r(a[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(i),n=!1,o.splice(s,1));(n||!i)&&t.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var n,i=l.get(this),r=i[e+"queue"],s=i[e+"queueHooks"],o=t.timers,a=r?r.length:0;for(i.finish=!0,t.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),n=o.length;n--;)o[n].elem===this&&o[n].queue===e&&(o[n].anim.stop(!0),o.splice(n,1));for(n=0;a>n;n++)r[n]&&r[n].finish&&r[n].finish.call(this);delete i.finish})}}),t.each(["toggle","show","hide"],function(e,n){var i=t.fn[n];t.fn[n]=function(t,e,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(h(n,!0),t,e,r)}}),t.each({slideDown:h("show"),slideUp:h("hide"),slideToggle:h("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){t.fn[e]=function(t,e,i){return this.animate(n,t,e,i)}}),t.timers=[],t.fx.tick=function(){var e,n=0,i=t.timers;for(u=t.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||t.fx.stop(),u=void 0},t.fx.timer=function(e){t.timers.push(e),e()?t.fx.start():t.timers.pop()},t.fx.interval=13,t.fx.start=function(){c||(c=window.setInterval(t.fx.tick,t.fx.interval))},t.fx.stop=function(){window.clearInterval(c),c=null},t.fx.speeds={slow:600,fast:200,_default:400},t});