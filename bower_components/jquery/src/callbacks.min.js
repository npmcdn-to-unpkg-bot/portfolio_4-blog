define(["./core","./var/rnotwhite"],function(e,t){function n(n){var i={};return e.each(n.match(t)||[],function(e,t){i[t]=!0}),i}return e.Callbacks=function(t){t="string"==typeof t?n(t):e.extend({},t);var i,r,s,o,a=[],l=[],u=-1,c=function(){for(o=t.once,s=i=!0;l.length;u=-1)for(r=l.shift();++u<a.length;)a[u].apply(r[0],r[1])===!1&&t.stopOnFalse&&(u=a.length,r=!1);t.memory||(r=!1),i=!1,o&&(a=r?[]:"")},f={add:function(){return a&&(r&&!i&&(u=a.length-1,l.push(r)),function n(i){e.each(i,function(i,r){e.isFunction(r)?t.unique&&f.has(r)||a.push(r):r&&r.length&&"string"!==e.type(r)&&n(r)})}(arguments),r&&!i&&c()),this},remove:function(){return e.each(arguments,function(t,n){for(var i;(i=e.inArray(n,a,i))>-1;)a.splice(i,1),u>=i&&u--}),this},has:function(t){return t?e.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=l=[],a=r="",this},disabled:function(){return!a},lock:function(){return o=l=[],r||(a=r=""),this},locked:function(){return!!o},fireWith:function(e,t){return o||(t=t||[],t=[e,t.slice?t.slice():t],l.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f},e});