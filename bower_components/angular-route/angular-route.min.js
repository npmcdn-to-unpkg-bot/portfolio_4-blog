"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function r(t,e){return F(new(F(function(){},{prototype:t})),e)}function i(t){return z(arguments,function(e){e!==t&&z(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function s(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function o(t){if(Object.keys)return Object.keys(t);var e=[];return z(t,function(t,n){e.push(n)}),e}function a(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in t&&t[r]===e)return r;return-1}function l(t,e,n,r){var i,l=s(n,r),c={},u=[];for(var f in l)if(l[f]&&l[f].params&&(i=o(l[f].params),i.length))for(var p in i)a(u,i[p])>=0||(u.push(i[p]),c[i[p]]=t[i[p]]);return F({},c,e)}function c(t,e,n){if(!n){n=[];for(var r in t)n.push(r)}for(var i=0;i<n.length;i++){var s=n[i];if(t[s]!=e[s])return!1}return!0}function u(t,e){var n={};return z(t,function(t){n[t]=e[t]}),n}function f(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return z(n,function(n){n in t&&(e[n]=t[n])}),e}function p(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in t)-1==a(n,r)&&(e[r]=t[r]);return e}function d(t,e){var n=B(t),r=n?[]:{};return z(t,function(t,i){e(t,i)&&(r[n?r.length:i]=t)}),r}function h(t,e){var n=B(t)?[]:{};return z(t,function(t,r){n[r]=e(t,r)}),n}function m(t,e){var r=1,s=2,l={},c=[],u=l,f=F(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function d(t,n){if(y[n]!==s){if(v.push(n),y[n]===r)throw v.splice(0,a(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,M(t))g.push(n,[function(){return e.get(t)}],c);else{var i=e.annotate(t);z(i,function(t){t!==n&&l.hasOwnProperty(t)&&d(l[t],t)}),g.push(n,t,i)}v.pop(),y[n]=s}}function h(t){return U(t)&&t.then&&t.$$promises}if(!U(l))throw new Error("'invocables' must be an object");var m=o(l||{}),g=[],v=[],y={};return z(l,d),l=v=y=null,function(r,s,o){function a(){--b||(w||i($,s.$$values),v.$$values=$,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,d.resolve($))}function l(t){v.$$failure=t,d.reject(t)}function c(n,i,s){function c(t){f.reject(t),l(t)}function u(){if(!L(v.$$failure))try{f.resolve(e.invoke(i,o,$)),f.promise.then(function(t){$[n]=t,a()},c)}catch(t){c(t)}}var f=t.defer(),p=0;z(s,function(t){y.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(p++,y[t].then(function(e){$[t]=e,--p||u()},c))}),p||u(),y[n]=f.promise}if(h(r)&&o===n&&(o=s,s=r,r=null),r){if(!U(r))throw new Error("'locals' must be an object")}else r=u;if(s){if(!h(s))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else s=f;var d=t.defer(),v=d.promise,y=v.$$promises={},$=F({},r),b=1+g.length/3,w=!1;if(L(s.$$failure))return l(s.$$failure),v;s.$$inheritedValues&&i($,p(s.$$inheritedValues,m)),F(y,s.$$promises),s.$$values?(w=i($,p(s.$$values,m)),v.$$inheritedValues=p(s.$$values,m),a()):(s.$$inheritedValues&&(v.$$inheritedValues=p(s.$$inheritedValues,m)),s.then(a,l));for(var k=0,S=g.length;S>k;k+=3)r.hasOwnProperty(g[k])?a():c(g[k],g[k+1],g[k+2]);return v}},this.resolve=function(t,e,n,r){return this.study(t)(e,n,r)}}function g(t,e,n){this.fromConfig=function(t,e,n){return L(t.template)?this.fromString(t.template,e):L(t.templateUrl)?this.fromUrl(t.templateUrl,e):L(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return R(t)?t(e):t},this.fromUrl=function(n,r){return R(n)&&(n=n(r)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,r){return n.invoke(t,null,r||{params:e})}}function v(t,e,i){function s(e,n,r,i){if(g.push(e),h[e])return h[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(m[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return m[e]=new J.Param(e,n,r,i),m[e]}function o(t,e,n,r){var i=["",""],s=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return s;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:s=s.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return s+i[0]+e+i[1]}function a(i,s){var o,a,l,c,u;return o=i[2]||i[3],u=e.params[o],l=t.substring(p,i.index),a=s?i[4]:i[4]||("*"==i[1]?".*":null),a&&(c=J.type(a)||r(J.type("string"),{pattern:new RegExp(a,e.caseInsensitive?"i":n)})),{id:o,regexp:a,segment:l,type:c,cfg:u}}e=F({params:{}},U(e)?e:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",p=0,d=this.segments=[],h=i?i.params:{},m=this.params=i?i.params.$$new():new J.ParamSet,g=[];this.source=t;for(var v,y,$;(l=c.exec(t))&&(v=a(l,!1),!(v.segment.indexOf("?")>=0));)y=s(v.id,v.type,v.cfg,"path"),f+=o(v.segment,y.type.pattern.source,y.squash,y.isOptional),d.push(v.segment),p=c.lastIndex;$=t.substring(p);var b=$.indexOf("?");if(b>=0){var w=this.sourceSearch=$.substring(b);if($=$.substring(0,b),this.sourcePath=t.substring(0,p+b),w.length>0)for(p=0;l=u.exec(w);)v=a(l,!0),y=s(v.id,v.type,v.cfg,"search"),p=c.lastIndex}else this.sourcePath=t,this.sourceSearch="";f+=o($)+(e.strict===!1?"/?":"")+"$",d.push($),this.regexp=new RegExp(f,e.caseInsensitive?"i":n),this.prefix=d[0],this.$$paramNames=g}function y(t){F(this,t)}function $(){function t(t){return null!=t?t.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):t}function i(t){return null!=t?t.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):t}function s(){return{strict:m,caseInsensitive:p}}function l(t){return R(t)||B(t)&&R(t[t.length-1])}function c(){for(;k.length;){var t=k.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(b[t.name],f.invoke(t.def))}}function u(t){F(this,t||{})}J=this;var f,p=!1,m=!0,g=!1,b={},w=!0,k=[],S={string:{encode:t,decode:i,is:function(t){return null==t||!L(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return L(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};$.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(t.value)},this.caseInsensitive=function(t){return L(t)&&(p=t),p},this.strictMode=function(t){return L(t)&&(m=t),m},this.defaultSquashPolicy=function(t){if(!L(t))return g;if(t!==!0&&t!==!1&&!M(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return g=t,t},this.compile=function(t,e){return new v(t,F(s(),e))},this.isMatcher=function(t){if(!U(t))return!1;var e=!0;return z(v.prototype,function(n,r){R(n)&&(e=e&&L(t[r])&&R(t[r]))}),e},this.type=function(t,e,n){if(!L(e))return b[t];if(b.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return b[t]=new y(F({name:t},e)),n&&(k.push({name:t,def:n}),w||c()),this},z(S,function(t,e){b[e]=new y(F({name:e},t))}),b=r(b,{}),this.$get=["$injector",function(t){return f=t,w=!1,c(),z(S,function(t,e){b[e]||(b[e]=new y(t))}),this}],this.Param=function(t,r,i,s){function c(t){var e=U(t)?o(t):[],n=-1===a(e,"value")&&-1===a(e,"type")&&-1===a(e,"squash")&&-1===a(e,"array");return n&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function u(n,r,i){if(n.type&&r)throw new Error("Param '"+t+"' has two type configurations.");return r?r:n.type?e.isString(n.type)?b[n.type]:n.type instanceof y?n.type:new y(n.type):"config"===i?b.any:b.string}function p(){var e={array:"search"===s?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return F(e,n,i).array}function m(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!L(n)||null==n)return g;if(n===!0||M(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(t,e,r,i){var s,o,l=[{from:"",to:r||e?n:""},{from:null,to:r||e?n:""}];return s=B(t.replace)?t.replace:[],M(i)&&s.push({from:i,to:n}),o=h(s,function(t){return t.from}),d(l,function(t){return-1===a(o,t.from)}).concat(s)}function $(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var t=f.invoke(i.$$fn);if(null!==t&&t!==n&&!S.type.is(t))throw new Error("Default value ("+t+") for parameter '"+S.id+"' is not an instance of Type ("+S.type.name+")");return t}function w(t){function e(t){return function(e){return e.from===t}}function n(t){var n=h(d(S.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),L(t)?S.type.$normalize(t):$()}function k(){return"{Param:"+t+" "+r+" squash: '"+x+"' optional: "+E+"}"}var S=this;i=c(i),r=u(i,r,s);var j=p();r=j?r.$asArray(j,"search"===s):r,"string"!==r.name||j||"path"!==s||i.value!==n||(i.value="");var E=i.value!==n,x=m(i,E),C=v(i,j,E,x);F(this,{id:t,type:r,location:s,array:j,squash:x,replace:C,isOptional:E,value:w,dynamic:n,config:i,toString:k})},u.prototype={$$new:function(){return r(this,F(new u,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,r=o(u.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),z(e,function(e){z(o(e),function(e){-1===a(t,e)&&-1===a(r,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return z(n.$$keys(),function(r){e[r]=n[r].value(t&&t[r])}),e},$$equals:function(t,e){var n=!0,r=this;return z(r.$$keys(),function(i){var s=t&&t[i],o=e&&e[i];r[i].type.equals(s,o)||(n=!1)}),n},$$validates:function(t){var r,i,s,o,a,l=this.$$keys();for(r=0;r<l.length&&(i=this[l[r]],s=t[l[r]],s!==n&&null!==s||!i.isOptional);r++){if(o=i.type.$normalize(s),!i.type.is(o))return!1;if(a=i.type.encode(o),e.isString(a)&&!i.type.pattern.exec(a))return!1}return!0},$$parent:n},this.ParamSet=u}function b(t,r){function i(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function s(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function o(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return L(r)?r:!0}function a(r,i,s,o,a){function p(t,e,n){return"/"===g?t:e?g.slice(0,-1)+t:n?g.slice(1)+t:t}function d(t){function e(t){var e=t(s,r);return e?(M(e)&&r.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){m&&r.url()===m,m=n;var i,o=c.length;for(i=0;o>i;i++)if(e(c[i]))return;u&&e(u)}}function h(){return l=l||i.$on("$locationChangeSuccess",d)}var m,g=o.baseHref(),v=r.url();return f||h(),{sync:function(){d()},listen:function(){return h()},update:function(t){return t?void(v=r.url()):void(r.url()!==v&&(r.url(v),r.replace()))},push:function(t,e,i){var s=t.format(e||{});null!==s&&e&&e["#"]&&(s+="#"+e["#"]),r.url(s),m=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,s){if(!n.validates(i))return null;var o=t.html5Mode();e.isObject(o)&&(o=o.enabled),o=o&&a.history;var l=n.format(i);if(s=s||{},o||null===l||(l="#"+t.hashPrefix()+l),null!==l&&i&&i["#"]&&(l+="#"+i["#"]),l=p(l,o,s.absolute),!s.absolute||!l)return l;var c=!o&&l?"/":"",u=r.port();return u=80===u||443===u?"":":"+u,[r.protocol(),"://",r.host(),u,c,l].join("")}}}var l,c=[],u=null,f=!1;this.rule=function(t){if(!R(t))throw new Error("'rule' must be a function");return c.push(t),this},this.otherwise=function(t){if(M(t)){var e=t;t=function(){return e}}else if(!R(t))throw new Error("'rule' must be a function");return u=t,this},this.when=function(t,e){var n,a=M(e);if(M(t)&&(t=r.compile(t)),!a&&!R(e)&&!B(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return a&&(n=r.compile(e),e=["$match",function(t){return n.format(t)}]),F(function(n,r){return o(n,e,t.exec(r.path(),r.search()))},{prefix:M(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(n=e,e=["$match",function(t){return s(n,t)}]),F(function(n,r){return o(n,e,t.exec(r.path()))},{prefix:i(t)})}},c={matcher:r.isMatcher(t),regex:t instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),f=t},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function w(t,i){function s(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function p(t,e){if(!t)return n;var r=M(t),i=r?t:t.name,o=s(i);if(o){if(!e)throw new Error("No reference point given for path '"+i+"'");e=p(e);for(var a=i.split("."),l=0,c=a.length,u=e;c>l;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!u.parent)throw new Error("Path '"+i+"' not valid for state '"+e.name+"'");u=u.parent}else u=e;a=a.slice(l).join("."),i=u.name+(u.name&&a?".":"")+a}var f=E[i];return!f||!r&&(r||f!==t&&f.self!==t)?n:f}function d(t,e){x[t]||(x[t]=[]),x[t].push(e)}function m(t){for(var e=x[t]||[];e.length;)g(e.shift())}function g(e){e=r(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!M(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(E.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):M(e.parent)?e.parent:U(e.parent)&&M(e.parent.name)?e.parent.name:"";if(i&&!E[i])return d(i,e.self);for(var s in T)R(T[s])&&(e[s]=T[s](e,T.$delegates[s]));return E[n]=e,!e[C]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){j.$current.navigable==e&&c(t,n)||j.transitionTo(e,t,{inherit:!0,location:!1})}]),m(n),e}function v(t){return t.indexOf("*")>-1}function y(t){for(var e=t.split("."),n=j.$current.name.split("."),r=0,i=e.length;i>r;r++)"*"===e[r]&&(n[r]="*");return"**"===e[0]&&(n=n.slice(a(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(a(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function $(t,e){return M(t)&&!L(e)?T[t]:R(e)&&M(t)?(T[t]&&!T.$delegates[t]&&(T.$delegates[t]=T[t]),T[t]=e,this):this}function b(t,e){return U(t)?e=t:e.name=t,g(e),this}function w(t,i,s,a,f,d,m,g,$){function b(e,n,r,s){var o=t.$broadcast("$stateNotFound",e,n,r);if(o.defaultPrevented)return m.update(),A;if(!o.retry)return null;if(s.$retry)return m.update(),I;var a=j.transition=i.when(o.retry);return a.then(function(){return a!==j.transition?x:(e.options.$retry=!0,j.transitionTo(e.to,e.toParams,e.options))},function(){return A}),m.update(),a}function w(t,n,r,o,l,c){function p(){var n=[];return z(t.views,function(r,i){var o=r.resolve&&r.resolve!==t.resolve?r.resolve:{};o.$template=[function(){return s.load(i,{view:r,locals:l.globals,params:d,notify:c.notify})||""}],n.push(f.resolve(o,l.globals,l.resolve,t).then(function(n){if(R(r.controllerProvider)||B(r.controllerProvider)){var s=e.extend({},o,l.globals);n.$$controller=a.invoke(r.controllerProvider,null,s)}else n.$$controller=r.controller;n.$$state=t,n.$$controllerAs=r.controllerAs,l[i]=n}))}),i.all(n).then(function(){return l.globals})}var d=r?n:u(t.params.$$keys(),n),h={$stateParams:d};l.resolve=f.resolve(t.resolve,h,l.resolve,t);var m=[l.resolve.then(function(t){l.globals=t})];return o&&m.push(o),i.all(m).then(p).then(function(t){return l})}var x=i.reject(new Error("transition superseded")),T=i.reject(new Error("transition prevented")),A=i.reject(new Error("transition aborted")),I=i.reject(new Error("transition failed"));return S.locals={resolve:null,globals:{$stateParams:{}}},j={params:{},current:S.self,$current:S,transition:null},j.reload=function(t){return j.transitionTo(j.current,d,{reload:t||!0,inherit:!1,notify:!0})},j.go=function(t,e,n){return j.transitionTo(t,e,F({inherit:!0,relative:j.$current},n))},j.transitionTo=function(e,n,s){n=n||{},s=F({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},s||{});var o,c=j.$current,f=j.params,h=c.path,g=p(e,s.relative),v=n["#"];if(!L(g)){var y={to:e,toParams:n,options:s},$=b(y,c.self,f,s);if($)return $;if(e=y.to,n=y.toParams,s=y.options,g=p(e,s.relative),!L(g)){if(!s.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+s.relative+"'")}}if(g[C])throw new Error("Cannot transition to abstract state '"+e+"'");if(s.inherit&&(n=l(d,n||{},j.$current,g)),!g.params.$$validates(n))return I;n=g.params.$$values(n),e=g;var E=e.path,A=0,O=E[A],N=S.locals,_=[];if(s.reload){if(M(s.reload)||U(s.reload)){if(U(s.reload)&&!s.reload.name)throw new Error("Invalid reload state object");var D=s.reload===!0?h[0]:p(s.reload);if(s.reload&&!D)throw new Error("No such reload state '"+(M(s.reload)?s.reload:s.reload.name)+"'");for(;O&&O===h[A]&&O!==D;)N=_[A]=O.locals,A++,O=E[A]}}else for(;O&&O===h[A]&&O.ownParams.$$equals(n,f);)N=_[A]=O.locals,A++,O=E[A];if(k(e,n,c,f,N,s))return v&&(n["#"]=v),j.params=n,V(j.params,d),V(u(e.params.$$keys(),d),e.locals.globals.$stateParams),s.location&&e.navigable&&e.navigable.url&&(m.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===s.location}),m.update(!0)),j.transition=null,i.when(j.current);if(n=u(e.params.$$keys(),n||{}),v&&(n["#"]=v),s.notify&&t.$broadcast("$stateChangeStart",e.self,n,c.self,f,s).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,c.self,f),null==j.transition&&m.update(),T;for(var P=i.when(N),q=A;q<E.length;q++,O=E[q])N=_[q]=r(N),P=w(O,n,O===e,P,N,s);var R=j.transition=P.then(function(){var r,i,o;if(j.transition!==R)return x;for(r=h.length-1;r>=A;r--)o=h[r],o.self.onExit&&a.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=A;r<E.length;r++)i=E[r],i.locals=_[r],i.self.onEnter&&a.invoke(i.self.onEnter,i.self,i.locals.globals);return j.transition!==R?x:(j.$current=e,j.current=e.self,j.params=n,V(j.params,d),j.transition=null,s.location&&e.navigable&&m.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===s.location}),s.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,c.self,f),m.update(!0),j.current)},function(r){return j.transition!==R?x:(j.transition=null,o=t.$broadcast("$stateChangeError",e.self,n,c.self,f,r),o.defaultPrevented||m.update(),i.reject(r))});return R},j.is=function(t,e,r){r=F({relative:j.$current},r||{});var i=p(t,r.relative);return L(i)?j.$current!==i?!1:e?c(i.params.$$values(e),d):!0:n},j.includes=function(t,e,r){if(r=F({relative:j.$current},r||{}),M(t)&&v(t)){if(!y(t))return!1;t=j.$current.name}var i=p(t,r.relative);return L(i)?L(j.$current.includes[i.name])?e?c(i.params.$$values(e),d,o(e)):!0:!1:n},j.href=function(t,e,r){r=F({lossy:!0,inherit:!0,absolute:!1,relative:j.$current},r||{});var i=p(t,r.relative);if(!L(i))return null;r.inherit&&(e=l(d,e||{},j.$current,i));var s=i&&r.lossy?i.navigable:i;return s&&s.url!==n&&null!==s.url?m.href(s.url,u(i.params.$$keys().concat("#"),e||{}),{absolute:r.absolute}):null},j.get=function(t,e){if(0===arguments.length)return h(o(E),function(t){return E[t].self});var n=p(t,e||j.$current);return n&&n.self?n.self:null},j}function k(t,e,n,r,i,s){function o(t,e,n){function r(e){return"search"!=t.params[e].location}var i=t.params.$$keys().filter(r),s=f.apply({},[t.params].concat(i)),o=new J.ParamSet(s);return o.$$equals(e,n)}return!s.reload&&t===n&&(i===n.locals||t.self.reloadOnSearch===!1&&o(n,r,e))?!0:void 0}var S,j,E={},x={},C="abstract",T={parent:function(t){if(L(t.parent)&&t.parent)return p(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?p(e[1]):S},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=r(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(M(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||S).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new J.ParamSet;return z(t.params||{},function(t,n){e[n]||(e[n]=new J.Param(n,null,t,"config"))}),e},params:function(t){var e=f(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?F(t.parent.params.$$new(),e):new J.ParamSet},views:function(t){var e={};return z(L(t.views)?t.views:{"":t},function(n,r){r.indexOf("@")<0&&(r+="@"+t.parent.name),e[r]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?F({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};S=g({name:"",url:"^",views:null,"abstract":!0}),S.navigable=null,this.decorator=$,this.state=b,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function k(){function t(t,e){return{load:function(t,n){var r,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=F(i,n),n.view&&(r=e.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function S(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function j(t,n,r,i){function s(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function o(t,n){function r(t){return 1===H&&G>=4?!!c.enabled(t):1===H&&G>=2?!!c.enabled():!!l}var i={enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}};if(t.noanimation)return i;if(c)return{enter:function(t,n,s){r(t)?e.version.minor>2?c.enter(t,null,n).then(s):c.enter(t,null,n,s):i.enter(t,n,s)},leave:function(t,n){r(t)?e.version.minor>2?c.leave(t).then(n):c.leave(t,n):i.leave(t,n)}};if(l){var s=l&&l(n,t);return{enter:function(t,e,n){s.enter(t,null,e),n()},leave:function(t,e){s.leave(t),e()}}}return i}var a=s(),l=a("$animator"),c=a("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,a){return function(n,s,l){function c(){function t(){e&&e.remove(),n&&n.$destroy()}var e=f,n=d;n&&(n._willBeDestroyed=!0),p?(v.leave(p,function(){t(),f=null}),f=p):(t(),f=null),p=null,d=null}function u(o){var u,f=x(n,l,s,i),y=f&&t.$current&&t.$current.locals[f];if((o||y!==h)&&!n._willBeDestroyed){u=n.$new(),h=t.$current.locals[f],u.$emit("$viewContentLoading",f);var $=a(u,function(t){v.enter(t,s,function(){d&&d.$emit("$viewContentAnimationEnded"),(e.isDefined(g)&&!g||n.$eval(g))&&r(t)}),c()});p=$,d=u,d.$emit("$viewContentLoaded",f),d.$eval(m)}}var f,p,d,h,m=l.onload||"",g=l.autoscroll,v=o(l,n);n.$on("$stateChangeSuccess",function(){u(!1)}),u(!0)}}};return u}function E(t,e,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var s=i.html();return function(i,o,a){var l=n.$current,c=x(i,a,o,r),u=l&&l.locals[c];if(u){o.data("$uiView",{name:c,state:u.$$state}),o.html(u.$template?u.$template:s);var f=t(o.contents());if(u.$$controller){u.$scope=i,u.$element=o;var p=e(u.$$controller,u);u.$$controllerAs&&(i[u.$$controllerAs]=p),o.data("$ngControllerController",p),o.children().data("$ngControllerController",p)}f(i)}}}}}function x(t,e,n,r){var i=r(e.uiView||e.name||"")(t),s=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(s?s.state.name:"")}function C(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function T(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function A(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function I(t,e,n,r,i){return function(s){var o=s.which||s.button,a=i();if(!(o>1||s.ctrlKey||s.metaKey||s.shiftKey||t.attr("target"))){var l=n(function(){e.go(a.state,a.params,a.options)});s.preventDefault();var c=r.isAnchor&&!a.href?1:0;s.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function O(t,e){return{relative:T(t)||e.$current,inherit:!0}}function N(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,s,o){var a=C(s.uiSref,t.current.name),l={state:a.state,href:null,params:null},c=A(i),u=o[1]||o[0];l.options=F(O(i,t),s.uiSrefOpts?r.$eval(s.uiSrefOpts):{});var f=function(n){n&&(l.params=e.copy(n)),l.href=t.href(a.state,l.params,l.options),u&&u.$$addStateInfo(a.state,l.params),null!==l.href&&s.$set(c.attr,l.href)};a.paramExpr&&(r.$watch(a.paramExpr,function(t){t!==l.params&&f(t)},!0),l.params=e.copy(r.$eval(a.paramExpr))),f(),c.clickable&&i.bind("click",I(i,t,n,c,function(){return l}))}}}function _(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,s){function o(e){f.state=e[0],f.params=e[1],f.options=e[2],f.href=t.href(f.state,f.params,f.options),l&&l.$$addStateInfo(f.state,f.params),f.href&&i.$set(a.attr,f.href)}var a=A(r),l=s[1]||s[0],c=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],u="["+c.map(function(t){return t||"null"}).join(", ")+"]",f={state:null,params:null,options:null,href:null};n.$watch(u,o,!0),o(n.$eval(u)),a.clickable&&r.bind("click",I(r,t,e,a,function(){return f}))}}}function D(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,r,i,s){function o(e,n,i){var s=t.get(e,T(r)),o=a(e,n);m.push({state:s||{name:e},params:n,hash:o}),g[o]=i}function a(t,n){if(!M(t))throw new Error("state should be a string");return U(n)?t+W(n):(n=e.$eval(n),U(n)?t+W(n):t)}function l(){for(var t=0;t<m.length;t++)f(m[t].state,m[t].params)?c(r,g[m[t].hash]):u(r,g[m[t].hash]),p(m[t].state,m[t].params)?c(r,d):u(r,d)}function c(t,e){s(function(){t.addClass(e)})}function u(t,e){t.removeClass(e)}function f(e,n){return t.includes(e.name,n)}function p(e,n){return t.is(e.name,n)}var d,h,m=[],g={};d=n(i.uiSrefActiveEq||"",!1)(e);try{h=e.$eval(i.uiSrefActive)}catch(v){}h=h||n(i.uiSrefActive||"",!1)(e),U(h)&&z(h,function(n,r){if(M(n)){var i=C(n,t.current.name);o(i.state,e.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(t,e){U(h)&&m.length>0||(o(t,e,h),l())},e.$on("$stateChangeSuccess",l),l()}]}}function P(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function q(t){var e=function(e,n,r){return t.includes(e,n,r)};return e.$stateful=!0,e}var L=e.isDefined,R=e.isFunction,M=e.isString,U=e.isObject,B=e.isArray,z=e.forEach,F=e.extend,V=e.copy,W=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",g);var J;v.prototype.concat=function(t,e){var n={caseInsensitive:J.caseInsensitive(),strict:J.strictMode(),squash:J.defaultSquashPolicy()};return new v(this.sourcePath+t+this.sourceSearch,F(n,e),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var r=e(t).split(/-(?!\\)/),i=h(r,e);return h(i,n).reverse()}var r=this.regexp.exec(t);if(!r)return null;e=e||{};var i,s,o,a=this.parameters(),l=a.length,c=this.segments.length-1,u={};if(c!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var f,p;for(i=0;c>i;i++){for(o=a[i],f=this.params[o],p=r[i+1],s=0;s<f.replace.length;s++)f.replace[s].from===p&&(p=f.replace[s].to);p&&f.array===!0&&(p=n(p)),L(p)&&(p=f.type.decode(p)),u[o]=f.value(p)}for(;l>i;i++){for(o=a[i],u[o]=this.params[o].value(e[o]),f=this.params[o],p=e[o],s=0;s<f.replace.length;s++)f.replace[s].from===p&&(p=f.replace[s].to);L(p)&&(p=f.type.decode(p)),u[o]=f.value(p)}return u},v.prototype.parameters=function(t){return L(t)?this.params[t]||null:this.$$paramNames},v.prototype.validates=function(t){return this.params.$$validates(t)},v.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(t))return null;var s,o=!1,a=n.length-1,l=r.length,c=n[0];for(s=0;l>s;s++){var u=a>s,f=r[s],p=i[f],d=p.value(t[f]),m=p.isOptional&&p.type.equals(p.value(),d),g=m?p.squash:!1,v=p.type.encode(d);if(u){var y=n[s+1],$=s+1===a;if(g===!1)null!=v&&(c+=B(v)?h(v,e).join("-"):encodeURIComponent(v)),c+=y;else if(g===!0){var b=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=y.match(b)[1]}else M(g)&&(c+=g+y);$&&p.squash===!0&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==v||m&&g!==!1)continue;if(B(v)||(v=[v]),0===v.length)continue;v=h(v,encodeURIComponent).join("&"+f+"="),c+=(o?"&":"?")+(f+"="+v),o=!0}}return c},y.prototype.is=function(t,e){return!0},y.prototype.encode=function(t,e){return t},y.prototype.decode=function(t,e){return t},y.prototype.equals=function(t,e){return t==e},y.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},y.prototype.$asArray=function(t,e){function r(t,e){function r(t,e){return function(){return t[e].apply(t,arguments)}}function i(t){return B(t)?t:L(t)?[t]:[]}function s(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function o(t){return!t}function a(t,e){return function(n){if(B(n)&&0===n.length)return n;n=i(n);var r=h(n,t);return e===!0?0===d(r,o).length:s(r)}}function l(t){return function(e,n){var r=i(e),s=i(n);if(r.length!==s.length)return!1;for(var o=0;o<r.length;o++)if(!t(r[o],s[o]))return!1;return!0}}this.encode=a(r(t,"encode")),this.decode=a(r(t,"decode")),this.is=a(r(t,"is"),!0),this.equals=l(r(t,"equals")),this.pattern=t.pattern,this.$normalize=a(r(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",$),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",b),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",w),k.$inject=[],e.module("ui.router.state").provider("$view",k),e.module("ui.router.state").provider("$uiViewScroll",S);var H=e.version.major,G=e.version.minor;j.$inject=["$state","$injector","$uiViewScroll","$interpolate"],E.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",j),e.module("ui.router.state").directive("uiView",E),N.$inject=["$state","$timeout"],_.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",N).directive("uiSrefActive",D).directive("uiSrefActiveEq",D).directive("uiState",_),
P.$inject=["$state"],q.$inject=["$state"],e.module("ui.router.state").filter("isState",P).filter("includedByState",q)}(window,window.angular);